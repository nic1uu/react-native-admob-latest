{"version":3,"sources":["AppOpenAdProvider.tsx"],"names":["React","useState","useDeepCompareEffect","AppOpenAdContext","AppOpenAd","AppOpenAdProvider","unitId","options","children","appOpenAd","setAppOpenAd","getAd","destroy","createAd"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,oBAAP,MAAiC,yBAAjC;AAIA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,SAASC,SAAT,QAA0B,cAA1B;;AAQA,MAAMC,iBAAiB,GAAG,QAII;AAAA,MAJH;AACzBC,IAAAA,MADyB;AAEzBC,IAAAA,OAAO,GAAG,EAFe;AAGzBC,IAAAA;AAHyB,GAIG;AAC5B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAmB,IAAnB,CAA1C;AAEAC,EAAAA,oBAAoB,CAAC,MAAM;AACzB,QAAIE,SAAS,CAACO,KAAV,EAAJ,EAAuB;AACrBP,MAAAA,SAAS,CAACQ,OAAV;AACD;;AACDF,IAAAA,YAAY,CAACJ,MAAM,GAAGF,SAAS,CAACS,QAAV,CAAmBP,MAAnB,EAA2BC,OAA3B,CAAH,GAAyC,IAAhD,CAAZ;AACD,GALmB,EAKjB,CAACD,MAAD,EAASC,OAAT,CALiB,CAApB;AAOA,sBACE,oBAAC,gBAAD,CAAkB,QAAlB;AAA2B,IAAA,KAAK,EAAE;AAAED,MAAAA,MAAF;AAAUC,MAAAA,OAAV;AAAmBE,MAAAA;AAAnB;AAAlC,KACGD,QADH,CADF;AAKD,CAnBD;;AAqBA,eAAeH,iBAAf","sourcesContent":["import React, { useState } from 'react';\nimport useDeepCompareEffect from 'use-deep-compare-effect';\n\nimport { AppOpenAdOptions } from '../types';\n\nimport AppOpenAdContext from './AppOpenAdContext';\nimport { AppOpenAd } from './fullscreen';\n\nexport interface AppOpenAdProviderProps {\n  unitId: string | null;\n  options?: AppOpenAdOptions;\n  children: React.ReactNode;\n}\n\nconst AppOpenAdProvider = ({\n  unitId,\n  options = {},\n  children,\n}: AppOpenAdProviderProps) => {\n  const [appOpenAd, setAppOpenAd] = useState<AppOpenAd | null>(null);\n\n  useDeepCompareEffect(() => {\n    if (AppOpenAd.getAd()) {\n      AppOpenAd.destroy();\n    }\n    setAppOpenAd(unitId ? AppOpenAd.createAd(unitId, options) : null);\n  }, [unitId, options]);\n\n  return (\n    <AppOpenAdContext.Provider value={{ unitId, options, appOpenAd }}>\n      {children}\n    </AppOpenAdContext.Provider>\n  );\n};\n\nexport default AppOpenAdProvider;\n"]}