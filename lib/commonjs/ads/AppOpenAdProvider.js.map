{"version":3,"sources":["AppOpenAdProvider.tsx"],"names":["AppOpenAdProvider","unitId","options","children","appOpenAd","setAppOpenAd","AppOpenAd","getAd","destroy","createAd"],"mappings":";;;;;;;AAAA;;AACA;;AAIA;;AACA;;;;;;;;AAQA,MAAMA,iBAAiB,GAAG,QAII;AAAA,MAJH;AACzBC,IAAAA,MADyB;AAEzBC,IAAAA,OAAO,GAAG,EAFe;AAGzBC,IAAAA;AAHyB,GAIG;AAC5B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4B,qBAA2B,IAA3B,CAAlC;AAEA,qCAAqB,MAAM;AACzB,QAAIC,sBAAUC,KAAV,EAAJ,EAAuB;AACrBD,4BAAUE,OAAV;AACD;;AACDH,IAAAA,YAAY,CAACJ,MAAM,GAAGK,sBAAUG,QAAV,CAAmBR,MAAnB,EAA2BC,OAA3B,CAAH,GAAyC,IAAhD,CAAZ;AACD,GALD,EAKG,CAACD,MAAD,EAASC,OAAT,CALH;AAOA,sBACE,6BAAC,yBAAD,CAAkB,QAAlB;AAA2B,IAAA,KAAK,EAAE;AAAED,MAAAA,MAAF;AAAUC,MAAAA,OAAV;AAAmBE,MAAAA;AAAnB;AAAlC,KACGD,QADH,CADF;AAKD,CAnBD;;eAqBeH,iB","sourcesContent":["import React, { useState } from 'react';\nimport useDeepCompareEffect from 'use-deep-compare-effect';\n\nimport { AppOpenAdOptions } from '../types';\n\nimport AppOpenAdContext from './AppOpenAdContext';\nimport { AppOpenAd } from './fullscreen';\n\nexport interface AppOpenAdProviderProps {\n  unitId: string | null;\n  options?: AppOpenAdOptions;\n  children: React.ReactNode;\n}\n\nconst AppOpenAdProvider = ({\n  unitId,\n  options = {},\n  children,\n}: AppOpenAdProviderProps) => {\n  const [appOpenAd, setAppOpenAd] = useState<AppOpenAd | null>(null);\n\n  useDeepCompareEffect(() => {\n    if (AppOpenAd.getAd()) {\n      AppOpenAd.destroy();\n    }\n    setAppOpenAd(unitId ? AppOpenAd.createAd(unitId, options) : null);\n  }, [unitId, options]);\n\n  return (\n    <AppOpenAdContext.Provider value={{ unitId, options, appOpenAd }}>\n      {children}\n    </AppOpenAdContext.Provider>\n  );\n};\n\nexport default AppOpenAdProvider;\n"]}